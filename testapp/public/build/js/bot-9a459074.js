function submitenquiry(){var e=$("input[name=name]").val(),t=$("input[name=email]").val(),i=$("input[name=mobile]").val(),n=$("input[name=_token]").val(),a=new RegExp(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/),o=a.test(t),r=new RegExp(/^(0-?)?(\([0-9]\d{2}\)|[0-9]\d{2})-?[0-9]\d{2}-?\d{4}$/i),s=r.test(i),l=0;return o?s?($(":button").text("Please wait.."),void $.post(SITE_URL+"saveleadentry",{name:e,email:t,mobile:i,_token:n},function(e,t){1==e?window.location.href=SITE_URL+"thanks/":($(":button").text("Request callback"),swal({title:"Oops...",text:"Please try later.",type:"error"}))})):(swal({title:"Oops...",text:"Please Enter valid mobile number",type:"error"}),l++,!1):(swal({title:"Oops...",text:"Please Enter valid email address",type:"error"}),l++,!1)}function makesearUrl(e,t){var i="";if("keyword"==t){var n=$("input[name=headerlocation]").val();i=n+"/"+e}if("city"==t){var a=$("input[name=keyword]").val();i=e+"/"+a}window.location.href=SITE_URL+"search/"+i}function loginbox(e,t){var i=$("input[name=_token]").val();$.post(SITE_URL+"ajaxlogin",{loginfor:e,id:t,_token:i},function(e,t){$("#modelcontent").html(e)})}function messagebox(e,t){var i=$("input[name=_token]").val();$.post(SITE_URL+"messagebox",{id:e,event_id:t,_token:i},function(e,t){$("#modelcontent").html(e)})}function setreminderbox(e){var t=$("input[name=_token]").val();$.post(SITE_URL+"setreminderbox",{id:e,_token:t},function(e,t){$("#modelcontent").html(e)})}function reportincorrecthandler(e){var t=$("input[name=_token]").val();$.post(SITE_URL+"reportincorrecthandler",{eventid:e,_token:t},function(e,t){$("#modelcontent").html(e)})}function freeticketCheckoutlogin(e){modelblock("Login to continue",'<div id="modelcontent"></div>',"small","small"),loginbox("buytickets")}function followwithlogin(e){modelblock("Login to continue",'<div id="modelcontent"></div>',"small","small"),loginbox("followorganiser",e)}function favouritewithlogin(e){modelblock("Login to continue",'<div id="modelcontent"></div>',"small","small"),loginbox("markfavourite",e)}function makeview(e,t){var i=$("input[name=_token]").val();$.post(SITE_URL+"viewconter",{id:t,viewfor:e,_token:i},function(e,t){})}function loadfriendbox(e){var t=$("input[name=_token]").val();$.post(SITE_URL+"loadfriendbox",{id:e,_token:t},function(e,t){$("#modelcontent").html(e)})}function forwardtofriend(e){modelblock("Forward the event detail to friend",'<div id="modelcontent"></div>',"small","small"),loadfriendbox(e)}function showformfor(e){"register"==e&&($(".registerform").show(),$(".loginform").hide()),"login"==e&&($(".loginform").show(),$(".registerform").hide())}function setreminderevent(e){var t=$("input[name=name]").val(),i=$("input[name=user_email]").val(),n=$("select[name=days]").select().val(),a=new RegExp(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/),o=a.test(i),r=$("input[name=_token]").val();if(""==t){$("input[name=name]").parent().addClass("has-error")}return o?void(n>0?$.post(SITE_URL+"setreminderevent",{id:e,name:t,email:i,days:n,_token:r},function(e,t){"success"==t&&($(":input").val(""),1==e&&($(".modal-header").append('<div class="alert alert-success fade in"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>Your Reminder set successfully</div>'),setTimeout(function(){closemodel()},2e3)))}):alert("Please selct daily reminder")):($("input[name=user_email]").parent().addClass("has-error"),!1)}function submitforwardbox(e){var t=$("input[name=name]").val(),i=$("input[name=user_email]").val(),n=$("input[name=message]").val(),a=new RegExp(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/),o=a.test(i),r=$("input[name=_token]").val();return""==t&&($("input[name=name]").parent().addClass("has-error"),$(this).parent().append("<div>* This Field is require</div>")),o?void(""==n?($("input[name=message]").parent().addClass("has-error"),$(this).parent().append("<div>* This Field is require</div>")):$.post(SITE_URL+"saveforwardform",{eventid:e,name:t,email:i,message:n,_token:r},function(e,t){"success"==t&&($(":input").val(""),1==e&&$(".modal-header").append('<div class="alert alert-success fade in"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>Your message sent successfully</div>'))})):($("input[name=user_email]").parent().addClass("has-error"),$(this).parent().append("<div>* This Field is require</div>"),!1)}function submitmessagebox(e,t){var i=$("input[name=name]").val(),n=$("input[name=user_email]").val(),a=$("input[name=subject]").val(),o=$("textarea#textAreamessage").val(),r=new RegExp(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/),s=r.test(n),l=$("input[name=_token]").val();return""==i&&($("input[name=name]").parent().addClass("has-error"),$(this).parent().append("<div>* This Field is require</div>")),s?(""==a&&($("input[name=subject]").parent().addClass("has-error"),$(this).parent().append("<div>* This Field is require</div>")),void(""==o?($("input[name=message]").parent().addClass("has-error"),$(this).parent().append("<div>* This Field is require</div>")):$.post(SITE_URL+"saveusercontectform",{userid:e,event_id:t,name:i,email:n,subject:a,message:o,_token:l},function(e,t){"success"==t&&($(":input").val(""),1==e&&$(".modal-header").append('<div class="alert alert-success fade in"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>Your message sent successfully</div>'))}))):($("input[name=user_email]").parent().addClass("has-error"),$(this).parent().append("<div>* This Field is require</div>"),!1)}function submitincorrect(e){var t=$("input[name=user_email]").val(),i=$("textarea#textAreamessage").val(),n=new RegExp(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/),a=n.test(t),o=$("input[name=_token]").val();if(!a)return $("input[name=user_email]").parent().addClass("has-error"),$(this).parent().append("<div>* This Field is require</div>"),!1;if($("#error_report_phone:checked").length>0){var r=[];$("#error_report_phone:checked").each(function(){r.push($(this).val())}),$.post(SITE_URL+"handelincorrect",{eventid:e,repotvalue:r,email:t,message:i,_token:o},function(e,t){1==e&&($("#modelcontent").html('<div class="alert alert-success fade in"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>Thanks You, we revert you back soon..</div>'),setTimeout(function(){closemodel()},2e3))})}else alert("Please slect one option")}function checkuserlogin(e){var t=$("input[name=user_email]").val(),i=$("input[name=password]").val(),n=$("input[name=_token]").val();$.getJSON(SITE_URL+"ajaxauthnticate",{email:t,password:i,_token:n},function(t,i){$.each(t,function(t,i){if("error"==t)i.email&&($("input[name=user_email]").parent().addClass("has-error"),$(this).parent().append("<div>* This Field is require</div>")),i.password&&($("input[name=password]").parent().addClass("has-error"),$(this).parent().append("<div>* This Field is require</div>"));else if("loginsuccess"==t){if(1!=i.auth)return $(":input").val(""),$(".modal-header").append('<div class="alert alert-warning fade in"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>Invalid Login Details..</div>'),!1;i.user;if("buytickets"==e){closemodel();var n=checkquqntity();1==n&&window.location.reload()}if("followorganiser"==e){var a=$("input[name=organisderid]").val();closemodel(),followorganiser(a),window.setTimeout(function(){location.reload()},2e3)}if("markfavourite"==e){var o=$("input[name=favouriteeventid]").val();closemodel(),closemodel(),favouritevent(o),window.setTimeout(function(){location.reload()},2e3)}}})})}function contectuser(e,t){modelblock("Contact the organizer",'<div id="modelcontent"></div>',"small","small"),messagebox(e,t)}function setreminder(e){modelblock("Set reminder for event",'<div id="modelcontent"></div>',"small","small"),setreminderbox(e)}function reportincorrect(e){modelblock("Report incorrect",'<div id="modelcontent"></div>',"small","small"),reportincorrecthandler(e)}function favouritevent(e){var t=$("input[name=_token]").val();$.getJSON(SITE_URL+"favouritevent",{eventid:e,_token:t},function(t,i){$.each(t,function(t,i){"success"==t&&(0==i.status?$(".favourite"+e).addClass("favclass"):1==i.status?$(".favourite"+e).removeClass("favclass"):alert("Please try later"))})})}function followorganiser(e){var t=$("input[name=_token]").val();$.getJSON(SITE_URL+"followorganiser",{organiserid:e,_token:t},function(e,t){$.each(e,function(e,t){if("success"==e)if(0==t.status){var i=$(".totalfollowers").text();$(".totalfollowers").text(parseInt(i)+parseInt(1)),$(".userFollow").text("Unfollow"),swal({title:"Done",text:"Follow successfully",type:"success"})}else if(1==t.status){var i=$(".totalfollowers").text();$(".totalfollowers").text(parseInt(i)-parseInt(1)),$(".userFollow").text("Follow"),swal({title:"Done",text:"Unfollow successfully",type:"success"})}})})}function registerUser(e){var t=$("input[name=email]").val(),i=$("input[name=password]").val(),n=$("input[name=_token]").val();$.getJSON(SITE_URL+"ajaxregister",{email:t,password:i,_token:n},function(t,i){$.each(t,function(t,i){if("error"==t)i.email&&$("input[name=email]").parent().addClass("has-error"),i.password&&$("input[name=password]").parent().addClass("has-error"),i.emailexist&&$(".modal-header").append('<div class="alert alert-warning fade in">Email Id Is Already Exist.</div>');else if("loginsuccess"==t){if(1!=i.auth)return $(":input").val(""),$(".modal-header").append('<div class="alert alert-warning fade in"><a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>Please Try later..</div>'),!1;if("buytickets"==e){closemodel();var n=checkquqntity();1==n&&window.location.reload()}if("followorganiser"==e){var a=$("input[name=organisderid]").val();closemodel(),followorganiser(a),window.setTimeout(function(){location.reload()},2e3)}if("markfavourite"==e){var o=$("input[name=favouriteeventid]").val();closemodel(),closemodel(),favouritevent(o),window.setTimeout(function(){location.reload()},2e3)}}})})}function checkquqntity(){var e=0;if($(".checkqu").each(function(){var t=$(this).select().val();e+=parseInt(t)}),!(e>0))return alert("Please select quantity for a ticket"),1;var t=$(".ticketquantity").serialize(),i=$("input[name=_token]").val(),n=$("input[name=eventid]").val();$.ajax({type:"POST",url:SITE_URL+"api/order/saveorderdata",data:t+"&eventid="+n+"&_token="+i,dataType:"json"}).done(function(e){alert(e)})}function modelblock(e,t,i){closemodel(),"undefined"==typeof footer&&(footer=""),"undefined"==typeof i&&(i="small");var n='<div class="modelbox"><div id="myModal" class="modal"><div class="modal-dialog '+i+'"><div class="modal-header"><button type="button" class="close" id="closemodel" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4>'+e+'</h4></div><div class="content">'+t+"</div></div></div></div>";$("body").append(n)}function closemodel(){$("#myModal").remove()}function freeticketCheckout(e){var t=$(".quntity"+e).select().val(),i=$("input[name=_token]").val();return 1>t||""==t?(alert("Please select tickets quantity"),!1):void $.post(SITE_URL+"makeorder",{ticketid:e,quantity:t,_token:i},function(e,t){"success"==t&&(window.location.href=SITE_URL+"completeorder/"+e)})}function CheckDataSearch(e){var t=e.keyword.value.replace(/\s/g,"-").toLowerCase(),i=e.cityname.value.replace(/\s/g,"-").toLowerCase(),n=$(".selectfrom").val(),a=i.split(",")[1],o=i.split(",")[0],r=$("input[name=_token]").val();if(""==o)return alert("Please select a city"),e.cityname.focus(),!1;if(e.keyword.value.replace(/\s/g,"-").length>119)return alert("Enter less than 120 characters for search."),e.keyword.focus(),!1;var s=SITE_URL+"search",l=$("select[name=eventstime]").select().val();if("dropdown"==n){if(void 0!==a)var c=a+"--"+o+"/"+l;else var c=o+"/"+l;return t&&(c=c+"/"+t),s=s+"/"+c,window.location=s,!1}var o=e.cityname.value.replace(/\s/g,"-").toLowerCase();return $.post(APIURL+"/city/checklocation",{location:o,_token:r},function(e,i){if(e){var n=e.toLowerCase(),a=n+"/"+l;return t&&(a=a+"/"+t),s=s+"/"+a,window.location=s,!1}}),!1}function CheckDataSearchmobile(e){var t=e.keyword.value.replace(/\s/g,"-").toLowerCase(),i=e.headerlocation.value.replace(/\s/g,"-").toLowerCase(),n=$(".selectfrom").val(),a=i.split(",")[1],o=i.split(",")[0],r=$("input[name=_token]").val();if(""==o)return alert("Please select a city"),e.cityname.focus(),!1;if(e.keyword.value.replace(/\s/g,"-").length>119)return alert("Enter less than 120 characters for search."),e.keyword.focus(),!1;var s=SITE_URL+"search",l=$("select[name=eventstimemobile]").select().val();if("dropdown"==n){if(void 0!==a)var c=a+"--"+o+"/"+l;else var c=o+"/"+l;return t&&(c=c+"/"+t),s=s+"/"+c,window.location=s,!1}var o=e.headerlocation.value.replace(/\s/g,"-").toLowerCase();return $.post(APIURL+"/city/checklocation",{location:o,_token:r},function(e,i){if(e){var n=e+"/"+l;return t&&(n=n+"/"+t),s=s+"/"+n,window.location=s,!1}}),!1}function myReplace(e,t,i){var n=new RegExp(t,"g"),a=e.replace(n,i);return a.toLowerCase()}function showerror(e){$(e).parent().hasClass("has-error")||($(e).parent().addClass("has-error"),$(e).parent().append('<div class="validatemessage">* This Field is require</div>'))}function readURLChangeImagesell(e){var t=$(e).attr("id").split("getimage");if(e.files&&e.files[0]){var i=new FileReader;i.onload=function(e){$("#pimgstore"+t[1]).css("background-image","url("+e.target.result+")"),$("#change_pic"+t[1]).hide()},i.readAsDataURL(e.files[0])}}function readURL(e){if(e.files&&e.files[0]){var t=new FileReader;$("#blah").show(),t.onload=function(e){$("#blah").attr("src",e.target.result)},t.readAsDataURL(e.files[0])}}function track(e){$.ajax({url:"http://localhost/devgoeventz1/GEsite/mongo/insert",type:"post",data:e})}function calculateAmount(e,t){var i=$("#eventId").val(),n={},a={},o=0;$(".ticketquantity").each(function(){var e=$(this).attr("id"),t=$(this).val();"text"==$(this).attr("type")||"number"==$(this).attr("type")?t>0&&(a[e]=t,o++):t>0&&(n[e]=t,o++)});var r={};return r.ticketArray=n,r.eventId=i,r.donateTicketArray=a,r.book=e,r.coupencode=t,console.log(o),1==e&&0==o?(swal({title:"Please select atleast one ticket.",timer:2e3,type:"warning"}),!1):void(o>0&&$.ajax({type:"post",url:SITE_URL+"api/event/calculateAmount",datatype:"json",data:r,success:function(i){var n=i.response.calculatedDetails;return e?(window.location.href=SITE_URL+"completeorder/"+n.orderId,!1):($("#bookingprice").html(n.totalAmount),void(n.discount>0?($(".couponcode").text(t),$(".apllymsg").show(),$(".pad").hide(),$(".dicountclass").show(),$(".FinalAmountclass").show(),$(".discountamount").html(n.discount),$(".finalamount").html(n.finalamount)):(""!=t&&swal({title:"Coupen code not valid.",timer:2e3,type:"warning"}),$(".dicountclass").hide(),$(".FinalAmountclass").hide())))},error:function(e){}}))}function bookNow(){var e="";e=$("input[name=coupencode]").val(),calculateAmount(1,e)}function generatepaidseting(e){var t=new Date,i=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+t.getHours()+":"+t.getMinutes();t.getHours()+"-"+t.getMinutes();if($("form input[name='start_date_time']").val().length>0)var n=$("form input[name='start_date_time']").val();else{t.getHours()+"-"+t.getMinutes()}$("#paidticket_setting"+e).append($("<div>").attr("id","paidticketset_wrap").append($("<div>").attr("class","rowtkt row").append($("<div>").attr("class","col-sm-12 mt15").append($("<div>").attr("id","row rowtkt fieldgroup").append($("<textarea/>",{rows:"5",style:"width:100%;padding-left:10px;",type:"text",id:"paidticketset_desc"+e,name:"ticket["+e+"][Paid][Setting][description]",placeholder:"Ticket description",maxlength:800,"class":"form-control"}))),$("<div>").attr("class","col-sm-12 mt15").append($("<div>").attr("id","row rowtkt fieldgroup").append($("<input />",{type:"checkbox",id:"paidticketset_showdes"+e,value:"1",name:"ticket["+e+"][Paid][Setting][show_des]",checked:!0}),$("<label />",{"for":"cb",text:"Show ticket on event page",style:"padding-left:5px;"})))),$("<div>").attr("class","row rowtkt mt15").append($("<div>").attr("class","col-sm-6").append($("<div>").attr("id","row rowtkt fieldgroup").append($("<label>").text("Ticket starts on"),$("<input/>",{type:"text",id:"paidticketsetsell_startd"+e,required:"required",name:"ticket["+e+"][Paid][Setting][startd]",value:i,"class":"form-controlset ddcalendar form-control"}))),$("<div>").attr("class","col-sm-6").append($("<div>").attr("id","row rowtkt fieldgroup").append($("<label>").text("Ticket ends"),$("<input/>",{type:"text",id:"paidticketsetsell_endd"+e,required:"required",name:"ticket["+e+"][Paid][Setting][endd]",value:n,"class":"form-controlset ddcalendar form-control"})))),$("<div>").attr("class","row rowtkt footerdiv mt15").append($("<div>").attr("id","row rowtkt fieldgroup").append($("<div>").attr("class","col-sm-12").append(),$("<div>").attr("class","col-sm-6").append($("<label>").text("Min"),$("<input/>",{type:"text",id:"paidticketsetsell_min"+e,required:"required",name:"ticket["+e+"][Paid][Setting][min]",value:"1",maxlength:6,"class":"form-controlset form-control"})),$("<div>").attr("class","col-sm-6").append($("<label>").text("Max"),$("<input/>",{type:"text",id:"paidticketsetsell_max"+e,required:"required",name:"ticket["+e+"][Paid][Setting][max]",value:"10",maxlength:6,"class":"form-controlset form-control"})))))),$("#paidticketsetsell_endd"+e).rules("add",{greaterThan:"#paidticketsetsell_startd"+e}),$("#paidticketsetsell_max"+e).rules("add",{greaterThandgt:"#paidticketsetsell_min"+e}),$("#paidticket_setting"+e).hide()}function generatefreeseting(e){var t=new Date,i=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+t.getHours()+":"+t.getMinutes();t.getHours()+"-"+t.getMinutes();if($("form input[name='start_date_time']").val().length>0)var n=$("form input[name='start_date_time']").val();else{t.getHours()+"-"+t.getMinutes()}$("#freeticket_setting"+e).append($("<div>").attr("id","freeticketset_wrap").append($("<div>").attr("class","row").append($("<div>").attr("class","col-sm-12 mt15").append($("<div>").attr("id","row fieldgroup").append($("<p/>").addClass("headingp").text("SETTING"),$("<textarea/>",{rows:"5",style:"width:100%;padding-left:10px;",type:"text",id:"freeticketset_desc"+e,name:"ticket["+e+"][Free][Setting][description]",placeholder:"Message","class":"form-control"}))),$("<div>").attr("class","col-sm-12 mt15").append($("<div>").attr("id","row fieldgroup").append($("<input />",{type:"checkbox",id:"freeticketset_showdes"+e,value:"1",name:"ticket["+e+"][Free][Setting][show_des]",checked:!0}),$("<label />",{"for":"cb",text:"Show ticket on event page",style:"padding-left:5px;"})))),$("<div>").attr("class","row mt15").append($("<div>").attr("class","col-sm-6").append($("<div>").attr("id","row fieldgroup").append($("<p/>").text("Ticket sales start"),$("<input/>",{type:"text",id:"freeticketsetsell_startd"+e,required:"required",name:"ticket["+e+"][Free][Setting][startd]",value:i,"class":"form-controlset ddcalendar form-control"}))),$("<div>").attr("class","col-sm-6").append($("<div>").attr("id","row fieldgroup").append($("<p/>").text("Ticket sales end"),$("<input/>",{type:"text",id:"freeticketsetsell_endd"+e,required:"required",name:"ticket["+e+"][Free][Setting][endd]",value:n,"class":"form-controlset ddcalendar form-control"})))),$("<div>").attr("class","row footerdiv mt15").append($("<div>").attr("id","row fieldgroup").append($("<div>").attr("class","col-sm-12").append($("<p/>").text("Tickets allowed per order minimum or maximum ")),$("<div>").attr("class","col-sm-6").append($("<input/>",{type:"text",id:"freeticketsetsell_min"+e,required:"required",name:"ticket["+e+"][Free][Setting][min]",value:"1","class":"form-controlset form-control"})),$("<div>").attr("class","col-sm-6").append($("<input/>",{type:"text",id:"freeticketsetsell_max"+e,required:"required",name:"ticket["+e+"][Free][Setting][max]",value:"10","class":"form-controlset form-control"})))))),$("#freeticketsetsell_endd"+e).rules("add",{greaterThan:"#freeticketsetsell_startd"+e}),$("#freeticketsetsell_max"+e).rules("add",{greaterThandgt:"#freeticketsetsell_min"+e}),$("#freeticket_setting"+e).hide()}function generatedonationseting(e){var t=new Date,i=t.getFullYear()+"-"+(t.getMonth()+1<10?"0":"")+(t.getMonth()+1)+"-"+(t.getDate()<10?"0":"")+t.getDate()+" "+t.getHours()+":"+t.getMinutes();t.getHours()+"-"+t.getMinutes();if($("form input[name='start_date_time']").val().length>0)var n=$("form input[name='start_date_time']").val();else{t.getHours()+"-"+t.getMinutes()}$("#donationticket_setting"+e).append($("<div>").attr("id","donationticketset_wrap").append($("<div>").attr("class","row").append($("<div>").attr("class","col-sm-12 mt15").append($("<div>").attr("id","row fieldgroup").append($("<p/>").text("SETTING"),$("<textarea/>",{rows:"5",style:"width:100%;padding-left:10px;",type:"text",id:"donationticketset_desc"+e,name:"ticket["+e+"][Donation][Setting][description]",placeholder:"Message","class":"form-control"}))),$("<div>").attr("class","col-sm-12 mt15").append($("<div>").attr("id","row fieldgroup").append($("<input />",{type:"checkbox",id:"donationticketset_showdes"+e,value:"1",name:"ticket["+e+"][Donation][Setting][show_des]",checked:!0}),$("<label />",{"for":"cb",text:"Show ticket on event page",style:"padding-left:5px;"})))),$("<div>").attr("class","row mt15").append($("<div>").attr("class","col-sm-6").append($("<div>").attr("id","row fieldgroup").append($("<p/>").text("Ticket sales start"),$("<input/>",{type:"text",id:"donationticketsetsell_startd"+e,required:"required",name:"ticket["+e+"][Donation][Setting][startd]",value:i,"class":"form-controlset ddcalendar form-control"}))),$("<div>").attr("class","col-sm-6").append($("<div>").attr("id","row fieldgroup").append($("<p/>").text("Ticket sales end"),$("<input/>",{type:"text",id:"donationticketsetsell_endd"+e,required:"required",name:"ticket["+e+"][Donation][Setting][endd]",value:n,"class":"form-controlset ddcalendar form-control"})))),$("<div>").attr("class","row footerdiv mt15").append($("<div>").attr("id","row fieldgroup").append($("<div>").attr("class","col-sm-12").append($("<p/>").text("Tickets allowed per order minimum or maximum ")),$("<div>").attr("class","col-sm-6").append($("<input/>",{type:"text",id:"donationticketsetsell_min"+e,required:"required",name:"ticket["+e+"][Donation][Setting][min]",value:"1","class":"form-controlset form-control"})),$("<div>").attr("class","col-sm-6").append($("<input/>",{type:"text",id:"donationticketsetsell_max"+e,required:"required",name:"ticket["+e+"][Donation][Setting][max]",value:"10","class":"form-controlset form-control"})))))),$("#donationticketsetsell_endd"+e).rules("add",{greaterThan:"#donationticketsetsell_startd"+e}),$("#donationticketsetsell_max"+e).rules("add",{greaterThandgt:"#donationticketsetsell_min"+e}),$("#donationticket_setting"+e).hide()}function successFunction(e){var t=e.coords.latitude,i=e.coords.longitude;codeLatLng(t,i)}function errorFunction(){var e="";setcitycokkies(e)}function initializelocation(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(successFunction,errorFunction),geocoder=new google.maps.Geocoder}function codeLatLng(e,t){var i=new google.maps.LatLng(e,t);geocoder.geocode({latLng:i},function(e,t){if(t==google.maps.GeocoderStatus.OK)if(console.log(e),e[1]){for(var i=0;i<e[0].address_components.length;i++)for(var n=0;n<e[0].address_components[i].types.length;n++)"locality"==e[0].address_components[i].types[n]&&(a=e[0].address_components[i]);var a=a.long_name;setcitycokkies(a)}else{var a="";setcitycokkies(a)}else{var a="";setcitycokkies(a)}})}function setcitycokkies(e){$.post(SITE_URL+"setcokkies",{city:e},function(e,t){""!=e&&window.location.reload()})}!function($){$.timer=function(func,time,autostart){return this.set=function(func,time,autostart){if(this.init=!0,"object"==typeof func){var paramList=["autostart","time"];for(var arg in paramList)void 0!=func[paramList[arg]]&&eval(paramList[arg]+" = func[paramList[arg]]");func=func.action}return"function"==typeof func&&(this.action=func),isNaN(time)||(this.intervalTime=time),autostart&&!this.isActive&&(this.isActive=!0,this.setTimer()),this},this.once=function(e){var t=this;return isNaN(e)&&(e=0),window.setTimeout(function(){t.action()},e),this},this.play=function(e){return this.isActive||(e?this.setTimer():this.setTimer(this.remaining),this.isActive=!0),this},this.pause=function(){return this.isActive&&(this.isActive=!1,this.remaining-=new Date-this.last,this.clearTimer()),this},this.stop=function(){return this.isActive=!1,this.remaining=this.intervalTime,this.clearTimer(),this},this.toggle=function(e){return this.isActive?this.pause():e?this.play(!0):this.play(),this},this.reset=function(){return this.isActive=!1,this.play(!0),this},this.clearTimer=function(){window.clearTimeout(this.timeoutObject)},this.setTimer=function(e){var t=this;"function"==typeof this.action&&(isNaN(e)&&(e=this.intervalTime),this.remaining=e,this.last=new Date,this.clearTimer(),this.timeoutObject=window.setTimeout(function(){t.go()},e))},this.go=function(){this.isActive&&(this.action(),this.setTimer())},this.init?new $.timer(func,time,autostart):(this.set(func,time,autostart),this)}}(jQuery),function(e,t,i){function n(i,n,a){var o=t.createElement(i);return n&&(o.id=X+n),a&&(o.style.cssText=a),e(o)}function a(){return i.innerHeight?i.innerHeight:e(i).height()}function o(t,i){i!==Object(i)&&(i={}),this.cache={},this.el=t,this.value=function(t){var n;return void 0===this.cache[t]&&(n=e(this.el).attr("data-cbox-"+t),void 0!==n?this.cache[t]=n:void 0!==i[t]?this.cache[t]=i[t]:void 0!==J[t]&&(this.cache[t]=J[t])),this.cache[t]},this.get=function(t){var i=this.value(t);return e.isFunction(i)?i.call(this.el,this):i}}function r(e){var t=T.length,i=(j+e)%t;return 0>i?t+i:i}function s(e,t){return Math.round((/%/.test(e)?("x"===t?S.width():a())/100:1)*parseInt(e,10))}function l(e,t){return e.get("photo")||e.get("photoRegex").test(t)}function c(e,t){return e.get("retinaUrl")&&i.devicePixelRatio>1?t.replace(e.get("photoRegex"),e.get("retinaSuffix")):t}function d(e){"contains"in w[0]&&!w[0].contains(e.target)&&e.target!==$[0]&&(e.stopPropagation(),w.focus())}function u(e){u.str!==e&&(w.add($).removeClass(u.str).addClass(e),u.str=e)}function p(){j=0,rel&&"nofollow"!==rel?(T=e("."+ee).filter(function(){var t=e.data(this,V),i=new o(this,t);return i.get("rel")===rel}),j=T.index(M.el),-1===j&&(T=T.add(M.el),j=T.length-1)):T=e(M.el)}function m(i){e(t).trigger(i),se.triggerHandler(i)}function f(i){var a;W||(a=e(i).data("colorbox"),M=new o(i,a),rel=M.get("rel"),p(),Z||(Z=K=!0,u(M.get("className")),w.css({visibility:"hidden",display:"block"}),E=n(le,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),y.css({width:"",height:""}).append(E),O=b.height()+C.height()+y.outerHeight(!0)-y.height(),F=x.width()+_.width()+y.outerWidth(!0)-y.width(),H=E.outerHeight(!0),z=E.outerWidth(!0),M.w=s(M.get("initialWidth"),"x"),M.h=s(M.get("initialHeight"),"y"),E.css({width:"",height:M.h}),G.position(),m(te),M.get("onOpen"),U.add(I).hide(),w.focus(),M.get("trapFocus")&&t.addEventListener&&(t.addEventListener("focus",d,!0),se.one(oe,function(){t.removeEventListener("focus",d,!0)})),M.get("returnFocus")&&se.one(oe,function(){e(M.el).focus()})),$.css({opacity:parseFloat(M.get("opacity")),cursor:M.get("overlayClose")?"pointer":"auto",visibility:"visible"}).show(),M.get("closeButton")?D.html(M.get("close")).appendTo(y):D.appendTo("<div/>"),g())}function h(){!w&&t.body&&(Q=!1,S=e(i),w=n(le).attr({id:V,"class":e.support.opacity===!1?X+"IE":"",role:"dialog",tabindex:"-1"}).hide(),$=n(le,"Overlay").hide(),L=e([n(le,"LoadingOverlay")[0],n(le,"LoadingGraphic")[0]]),k=n(le,"Wrapper"),y=n(le,"Content").append(I=n(le,"Title"),R=n(le,"Current"),P=e('<button type="button"/>').attr({id:X+"Previous"}),A=e('<button type="button"/>').attr({id:X+"Next"}),B=n("button","Slideshow"),L),D=e('<button type="button"/>').attr({id:X+"Close"}),k.append(n(le).append(n(le,"TopLeft"),b=n(le,"TopCenter"),n(le,"TopRight")),n(le,!1,"clear:left").append(x=n(le,"MiddleLeft"),y,_=n(le,"MiddleRight")),n(le,!1,"clear:left").append(n(le,"BottomLeft"),C=n(le,"BottomCenter"),n(le,"BottomRight"))).find("div div").css({"float":"left"}),q=n(le,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),U=A.add(P).add(R).add(B),e(t.body).append($,w.append(k,q)))}function v(){function i(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),f(this))}return w?(Q||(Q=!0,A.click(function(){G.next()}),P.click(function(){G.prev()}),D.click(function(){G.close()}),$.click(function(){M.get("overlayClose")&&G.close()}),e(t).bind("keydown."+X,function(e){var t=e.keyCode;Z&&M.get("escKey")&&27===t&&(e.preventDefault(),G.close()),Z&&M.get("arrowKey")&&T[1]&&!e.altKey&&(37===t?(e.preventDefault(),P.click()):39===t&&(e.preventDefault(),A.click()))}),e.isFunction(e.fn.on)?e(t).on("click."+X,"."+ee,i):e("."+ee).live("click."+X,i)),!0):!1}function g(){var a,o,r,d=G.prep,u=++ce;K=!0,N=!1,m(re),m(ie),M.get("onLoad"),M.h=M.get("height")?s(M.get("height"),"y")-H-O:M.get("innerHeight")&&s(M.get("innerHeight"),"y"),M.w=M.get("width")?s(M.get("width"),"x")-z-F:M.get("innerWidth")&&s(M.get("innerWidth"),"x"),M.mw=M.w,M.mh=M.h,M.get("maxWidth")&&(M.mw=s(M.get("maxWidth"),"x")-z-F,M.mw=M.w&&M.w<M.mw?M.w:M.mw),M.get("maxHeight")&&(M.mh=s(M.get("maxHeight"),"y")-H-O,M.mh=M.h&&M.h<M.mh?M.h:M.mh),a=M.get("href"),Y=setTimeout(function(){L.show()},100),M.get("inline")?(r=n(le).hide().insertBefore(e(a)[0]),se.one(re,function(){r.replaceWith(E.children())}),d(e(a))):M.get("iframe")?d(" "):M.get("html")?d(M.get("html")):l(M,a)?(a=c(M,a),N=t.createElement("img"),e(N).addClass(X+"Photo").bind("error",function(){d(n(le,"Error").html(M.get("imgError")))}).one("load",function(){var t;u===ce&&(e.each(["alt","longdesc","aria-describedby"],function(t,i){var n=e(M.el).attr(i)||e(M.el).attr("data-"+i);n&&N.setAttribute(i,n)}),M.get("retinaImage")&&i.devicePixelRatio>1&&(N.height=N.height/i.devicePixelRatio,N.width=N.width/i.devicePixelRatio),M.get("scalePhotos")&&(o=function(){N.height-=N.height*t,N.width-=N.width*t},M.mw&&N.width>M.mw&&(t=(N.width-M.mw)/N.width,o()),M.mh&&N.height>M.mh&&(t=(N.height-M.mh)/N.height,o())),M.h&&(N.style.marginTop=Math.max(M.mh-N.height,0)/2+"px"),T[1]&&(M.get("loop")||T[j+1])&&(N.style.cursor="pointer",N.onclick=function(){G.next()}),N.style.width=N.width+"px",N.style.height=N.height+"px",setTimeout(function(){d(N)},1))}),setTimeout(function(){N.src=a},1)):a&&q.load(a,M.get("data"),function(t,i){u===ce&&d("error"===i?n(le,"Error").html(M.get("xhrError")):e(this).contents())})}var $,w,k,y,b,x,_,C,T,S,E,q,L,I,R,B,A,P,D,U,M,O,F,H,z,j,N,Z,K,W,Y,G,Q,J={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return e(this).attr("href")},title:function(){return this.title}},V="colorbox",X="cbox",ee=X+"Element",te=X+"_open",ie=X+"_load",ne=X+"_complete",ae=X+"_cleanup",oe=X+"_closed",re=X+"_purge",se=e("<a/>"),le="div",ce=0,de={},ue=function(){function e(){
clearTimeout(r)}function t(){(M.get("loop")||T[j+1])&&(e(),r=setTimeout(G.next,M.get("slideshowSpeed")))}function i(){B.html(M.get("slideshowStop")).unbind(l).one(l,n),se.bind(ne,t).bind(ie,e),w.removeClass(s+"off").addClass(s+"on")}function n(){e(),se.unbind(ne,t).unbind(ie,e),B.html(M.get("slideshowStart")).unbind(l).one(l,function(){G.next(),i()}),w.removeClass(s+"on").addClass(s+"off")}function a(){o=!1,B.hide(),e(),se.unbind(ne,t).unbind(ie,e),w.removeClass(s+"off "+s+"on")}var o,r,s=X+"Slideshow_",l="click."+X;return function(){o?M.get("slideshow")||(se.unbind(ae,a),a()):M.get("slideshow")&&T[1]&&(o=!0,se.one(ae,a),M.get("slideshowAuto")?i():n(),B.show())}}();e.colorbox||(e(h),G=e.fn[V]=e[V]=function(t,i){var n,a=this;if(t=t||{},e.isFunction(a))a=e("<a/>"),t.open=!0;else if(!a[0])return a;return a[0]?(h(),v()&&(i&&(t.onComplete=i),a.each(function(){var i=e.data(this,V)||{};e.data(this,V,e.extend(i,t))}).addClass(ee),n=new o(a[0],t),n.get("open")&&f(a[0])),a):a},G.position=function(t,i){function n(){b[0].style.width=C[0].style.width=y[0].style.width=parseInt(w[0].style.width,10)-F+"px",y[0].style.height=x[0].style.height=_[0].style.height=parseInt(w[0].style.height,10)-O+"px"}var o,r,l,c=0,d=0,u=w.offset();if(S.unbind("resize."+X),w.css({top:-9e4,left:-9e4}),r=S.scrollTop(),l=S.scrollLeft(),M.get("fixed")?(u.top-=r,u.left-=l,w.css({position:"fixed"})):(c=r,d=l,w.css({position:"absolute"})),d+=M.get("right")!==!1?Math.max(S.width()-M.w-z-F-s(M.get("right"),"x"),0):M.get("left")!==!1?s(M.get("left"),"x"):Math.round(Math.max(S.width()-M.w-z-F,0)/2),c+=M.get("bottom")!==!1?Math.max(a()-M.h-H-O-s(M.get("bottom"),"y"),0):M.get("top")!==!1?s(M.get("top"),"y"):Math.round(Math.max(a()-M.h-H-O,0)/2),w.css({top:u.top,left:u.left,visibility:"visible"}),k[0].style.width=k[0].style.height="9999px",o={width:M.w+z+F,height:M.h+H+O,top:c,left:d},t){var p=0;e.each(o,function(e){return o[e]!==de[e]?void(p=t):void 0}),t=p}de=o,t||w.css(o),w.dequeue().animate(o,{duration:t||0,complete:function(){n(),K=!1,k[0].style.width=M.w+z+F+"px",k[0].style.height=M.h+H+O+"px",M.get("reposition")&&setTimeout(function(){S.bind("resize."+X,G.position)},1),i&&i()},step:n})},G.resize=function(e){var t;Z&&(e=e||{},e.width&&(M.w=s(e.width,"x")-z-F),e.innerWidth&&(M.w=s(e.innerWidth,"x")),E.css({width:M.w}),e.height&&(M.h=s(e.height,"y")-H-O),e.innerHeight&&(M.h=s(e.innerHeight,"y")),e.innerHeight||e.height||(t=E.scrollTop(),E.css({height:"auto"}),M.h=E.height()),E.css({height:M.h}),t&&E.scrollTop(t),G.position("none"===M.get("transition")?0:M.get("speed")))},G.prep=function(i){function a(){return M.w=M.w||E.width(),M.w=M.mw&&M.mw<M.w?M.mw:M.w,M.w}function s(){return M.h=M.h||E.height(),M.h=M.mh&&M.mh<M.h?M.mh:M.h,M.h}if(Z){var d,p="none"===M.get("transition")?0:M.get("speed");E.remove(),E=n(le,"LoadedContent").append(i),E.hide().appendTo(q.show()).css({width:a(),overflow:M.get("scrolling")?"auto":"hidden"}).css({height:s()}).prependTo(y),q.hide(),e(N).css({"float":"none"}),u(M.get("className")),d=function(){function i(){e.support.opacity===!1&&w[0].style.removeAttribute("filter")}var n,a,s=T.length;Z&&(a=function(){clearTimeout(Y),L.hide(),m(ne),M.get("onComplete")},I.html(M.get("title")).show(),E.show(),s>1?("string"==typeof M.get("current")&&R.html(M.get("current").replace("{current}",j+1).replace("{total}",s)).show(),A[M.get("loop")||s-1>j?"show":"hide"]().html(M.get("next")),P[M.get("loop")||j?"show":"hide"]().html(M.get("previous")),ue(),M.get("preloading")&&e.each([r(-1),r(1)],function(){var i,n=T[this],a=new o(n,e.data(n,V)),r=a.get("href");r&&l(a,r)&&(r=c(a,r),i=t.createElement("img"),i.src=r)})):U.hide(),M.get("iframe")?(n=t.createElement("iframe"),"frameBorder"in n&&(n.frameBorder=0),"allowTransparency"in n&&(n.allowTransparency="true"),M.get("scrolling")||(n.scrolling="no"),e(n).attr({src:M.get("href"),name:(new Date).getTime(),"class":X+"Iframe",allowFullScreen:!0}).one("load",a).appendTo(E),se.one(re,function(){n.src="//about:blank"}),M.get("fastIframe")&&e(n).trigger("load")):a(),"fade"===M.get("transition")?w.fadeTo(p,1,i):i())},"fade"===M.get("transition")?w.fadeTo(p,0,function(){G.position(0,d)}):G.position(p,d)}},G.next=function(){!K&&T[1]&&(M.get("loop")||T[j+1])&&(j=r(1),f(T[j]))},G.prev=function(){!K&&T[1]&&(M.get("loop")||j)&&(j=r(-1),f(T[j]))},G.close=function(){Z&&!W&&(W=!0,Z=!1,m(ae),M.get("onCleanup"),S.unbind("."+X),$.fadeTo(M.get("fadeOut")||0,0),w.stop().fadeTo(M.get("fadeOut")||0,0,function(){w.add($).css({opacity:1,cursor:"auto"}).hide(),m(re),E.remove(),setTimeout(function(){W=!1,m(oe),M.get("onClosed")},1)}))},G.remove=function(){w&&(w.stop(),e.colorbox.close(),w.stop().remove(),$.remove(),W=!1,w=null,e("."+ee).removeData(V).removeClass(ee),e(t).unbind("click."+X))},G.element=function(){return e(M.el)},G.settings=J)}(jQuery,document,window),$(document).ready(function(){var e=$.timer(function(){var t=$("#totalTime").val(),i=Math.floor(t/60),n=t%60;if(0>=t){e.pause(),alert("Your time is over");var a=$("input[name=eventname]").val(),o=$("input[name=eventid]").val(),r=$("input[name=orderid]").val(),s=$("input[name=_token]").val();$.post(APIURL+"/order/updateholdtime",{orderid:r,_token:s},function(e,t){"success"==t?"success"==e&&(window.location.href=SITE_URL+"event/"+a+"/"+o+"?error=true"):alert("Some thing wrong")})}else t-=1,$(".min").text(i),$(".sec").text(n),$("#totalTime").val(t)},1e3,!0);$(".hidelocation").hide(),$(".group1").colorbox({rel:"group1"}),$("#time,#timeend").datetimepicker({datepicker:!1,format:"H:i",step:5}),$("#datetimepicker2,#datetimepickerend").datetimepicker({lang:"en",timepicker:!1,format:"Y-m-d",formatDate:"Y-m-d"}),$(document).on("mouseover",".ddcalendar",function(e){$(".ddcalendar").datetimepicker({yearOffset:0,lang:"en",timepicker:!0,format:"Y-m-d H:i",formatDate:"Y-m-d H:i",minDate:0,step:15})}),$(document).on("change","select[name=eventcategory]",function(){var e=$(this).val(),t=$("input[name=_token]").val();$.post(SITE_URL+"subcategorylist",{category_id:e,_token:t},function(e,t){$("select[name=eventsubcategory]").html(""),$("select[name=eventsubcategory]").html(e)})}),$("body").on("click","#closemodel",function(){closemodel()}),$(".ordersubmit").click(function(){var e=$("input[name=_token]").val(),t=$("input[name=orderid]").val(),i=$("input[name=Email]").val(),n=new RegExp(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/),a=n.test(i),o=$("input[name=Mobile]").val(),r=new RegExp(/^(0-?)?(\([0-9]\d{2}\)|[0-9]\d{2})-?[0-9]\d{2}-?\d{4}$/i),s=r.test(o),l=0;if(a||(swal({title:"Oops...",text:"Please Enter valid email address",type:"error"}),l++),s||(swal({title:"Oops...",text:"Please Enter valid mobile number",type:"error"}),l++),$(".inputData").each(function(){if($(this).hasClass("inputRequired")&&""==$(this).val()){var e=this;showerror(e),l++}}),0==l){$(this).text("Proccessing").attr("disabled","disabled");var c=$(":input").serialize();$.ajax({type:"POST",url:APIURL+"/order/placeorder",data:c+"&orderid="+t+"&_token="+e,dataType:"json",success:function(e){"payment"==e.status?window.location=SITE_URL+"payment/"+t:"free"==e.status&&(window.location=SITE_URL+"ordersuccess/"+t)},error:function(e){alert("Please try later"),$(this).text("Submit").prop("disabled",!1)}})}}),$("#completeorder").click(function(){var e=$("input[name=_token]").val(),t=$("input[name=userfname]").val(),i=$("input[name=orderid]").val(),n=$("input[name=userlname]").val(),a=$("input[name=useremail]").val(),o=new RegExp(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/),r=o.test(a);if(""==t)return alert("Please Enter first Name"),!1;if(""==n)return alert("Please Enter first lastname"),!1;if(!r)return alert("Please Enter valid email address"),!1;var s=$(this).text();$.post(SITE_URL+"savedetailandorder",{orderid:i,_token:e,firstname:t,lastname:n,email:a,buttontext:s},function(e,t){"success"==t&&("Next"==s?($(".content_b1").hide(),$(".content_b2").show()):(alert("successfully order complete"),window.location.reload()))})}),$(document).on("click",".makeeventurl",function(){var e=$(this).text();$("input[name=keyword]").val(e),$(".input_v").hide(),$(".input_vmobile").hide()}),$("body:not(.input_v,.input_vmobile)").click(function(){$(".input_v").hide(),$(".input_vmobile").hide()}),$(".input_v").blur(function(){$(".input_v").hide()}),$(".Attendselect").on("change",function(){var e=$(this).val(),t=$("#"+e).html();alert(t)})}),$(function(){$('[data-toggle="tooltip"]').tooltip()}),$(function(){$("input,textarea").focus(function(){$(this).data("placeholder",$(this).attr("placeholder")).attr("placeholder","")}).blur(function(){$(this).attr("placeholder",$(this).data("placeholder"))})}),$("body").on("change",".ticketquantity",function(){var e=$("input[name=coupencode]").val();calculateAmount(0,e)}),$("body").on("click",".applycoupen",function(){var e=$("input[name=coupencode]").val();if(""==e)swal({title:"Oops...",text:"Please enter validcoupen.",type:"error"});else{var t=0;if($(".ticketquantity").each(function(){var e={},i=$(this).attr("id"),n=$(this).val();n>0&&(e[i]=n,t++)}),0==t)return swal({title:"Please select atleast one ticket.",timer:2e3,type:"warning"}),!1;calculateAmount(0,e)}}),$(document).ready(function(){var e=1;$("#free").click(function(){var t="setting_"+e;$("div#ticket_generate").append($("<div>").attr("id","free_ticket"+e).addClass("ticketwrap").append($("<div>").attr("class","row ticketwrapbox1 text-center").append($("<div>").attr("class","col-sm-4").append($("<input/>",{type:"text",id:"freeticket_box"+e,name:"ticket["+e+"][Free][ticket_name]",required:"required",placeholder:"Ticket Name","class":"form-controlset form-control"})),$("<div>").attr("class","col-sm-4").append($("<input/>",{type:"text",id:"freequantity_box"+e,name:"ticket["+e+"][Free][ticket_quantity]",required:"required",placeholder:"Quantity","class":"form-controlset form-control"})),$("<div>").attr("class","col-sm-4").append($("<span/>").text("Free"),$("<a />").attr("href","javascript:void(0)").attr("id",t).addClass("ticketsetting").html('<i class="fa fa-cog"></i> Settings'),$("<a />").attr("href","javascript:void(0)").attr("id","delete_"+e).addClass("freeticketdelete").html('<i class="fa fa-trash-o"></i> Delete')))),$("<div>").attr("id","freeticket_setting"+e).addClass("ticketbox").append()),$("#freequantity_box"+e).rules("add","number"),generatefreeseting(e),e++}),$("#paid").click(function(){var t="setting_"+e;$("div#ticket_generate").append($("<div>").attr("id","paid_ticket"+e).addClass("paidticketwrap").append($("<div>").attr("class","row ticketwrapbox1 text-center").append($("<div>").attr("class","col-sm-4").append($("<input/>",{type:"text",id:"paidticket_box"+e,name:"ticket["+e+"][Paid][ticket_name]",required:"required",placeholder:"Ticket name","class":"form-controlset form-control",maxlength:75,title:"eg- early bird, General admission, couple entry etc"})),$("<div>").attr("class","col-sm-2").append($("<input/>",{type:"text",id:"paidquantity_box"+e,name:"ticket["+e+"][Paid][ticket_quantity]",required:"required",placeholder:"Quantity",maxlength:8,"class":"form-controlset form-control",title:"Quantity"})),$("<div>").attr("class","col-sm-2").append($("<input/>",{type:"text",id:"price_box"+e,name:"ticket["+e+"][Paid][ticket_price]",placeholder:"Price","class":"form-controlset form-control",maxlength:12,title:"For free ticket enter 0, for donation leave it blank"})),$("<div>").attr("class","col-sm-4").append($("<a />").attr("href","javascript:void(0)").attr("id",t).addClass("paidticketsetting").html('<i class="fa fa-cog"></i> Settings'),$("<a />").attr("href","javascript:void(0)").attr("id","delete_"+e).addClass("paidticketdelete").html('<i class="fa fa-trash-o"></i>Delete'))),$("<div>").addClass("row ticketwrapbox1").append($("<div>").attr("id","paidticket_currency"+e).addClass("col-sm-4").append())),$("<div>").attr("id","paidticket_setting"+e).addClass("ticketbox").append());var i=[{val:1,text:"INR"}],n=$('<select id="test" class="form-controlset form-control" required="required" name="ticket['+e+'][Paid][currency]">').appendTo("#paidticket_currency"+e);$(i).each(function(){n.append($("<option>").attr("value",this.val).text(this.text))}),$("#paidquantity_box"+e).rules("add","number"),$("#price_box"+e).rules("add","number"),$("#price_box"+e).rules("add","amount"),generatepaidseting(e),e++}),$("#donation").click(function(){var t="setting_"+e;$("div#ticket_generate").append($("<div>").attr("id","donation_ticket"+e).addClass("donationticketwrap").append($("<div>").attr("class","row ticketwrapbox1 text-center").append($("<div>").attr("class","col-sm-4").append($("<input/>",{type:"text",id:"donationticket_box"+e,name:"ticket["+e+"][Donation][ticket_name]",required:"required",placeholder:"Ticket Name","class":"form-controlset form-control"})),$("<div>").attr("class","col-sm-3").append($("<input/>",{type:"text",id:"donationquantity_box"+e,name:"ticket["+e+"][Donation][ticket_quantity]",required:"required",placeholder:"Quantity","class":"form-controlset form-control"})),$("<div>").attr("class","col-sm-5").append($("<span/>").text("Donation"),$("<a />").attr("href","javascript:void(0)").attr("id",t).addClass("donationtticketsetting").html('<i class="fa fa-cog"></i>Setting'),$("<a />").attr("href","javascript:void(0)").attr("id","delete_"+e).addClass("donationticketdelete").html('<i class="fa fa-trash-o"></i>Delete'))),$("<div>").addClass("row ticketwrapbox1").append($("<div>").attr("id","donationticket_currency"+e).addClass("col-sm-4").append())),$("<div>").attr("id","donationticket_setting"+e).addClass("ticketbox").append()),$(document).find("#donationticket_currency"+e).empty();var i=[{val:0,text:"Currency"},{val:1,text:"INR"}],n=$('<select id="test" class="form-controlset form-control" required="required" name="ticket['+e+'][Donation][currency]">').appendTo("#donationticket_currency"+e);$(i).each(function(){n.append($("<option>").attr("value",this.val).text(this.text))}),$("#donationquantity_box"+e).rules("add","number"),generatedonationseting(e),e++})}),$(document).on("click",".paidticketsetting",function(e){var t=$(this).attr("id");settingcounters=t.split("_"),settingcounter=settingcounters[1],0==$("#paidticket_setting"+settingcounter).is(":visible")?$("#paidticket_setting"+settingcounter).show():$("#paidticket_setting"+settingcounter).hide()}),$(document).on("click",".ticketsetting",function(e){var t=$(this).attr("id");settingcounters=t.split("_"),settingcounter=settingcounters[1],0==$("#freeticket_setting"+settingcounter).is(":visible")?$("#freeticket_setting"+settingcounter).show():$("#freeticket_setting"+settingcounter).hide()}),$(document).on("click",".donationtticketsetting",function(e){var t=$(this).attr("id");settingcounters=t.split("_"),settingcounter=settingcounters[1],0==$("#donationticket_setting"+settingcounter).is(":visible")?$("#donationticket_setting"+settingcounter).show():$("#donationticket_setting"+settingcounter).hide()}),$(document).on("click",".freeticketdelete",function(e){var t=$(this).attr("id");ticketdelid=t.split("_"),ticketdelcount=ticketdelid[1],$(document).find("#freeticket_setting"+ticketdelcount).remove(),$(document).find("#free_ticket"+ticketdelcount).remove(),0==$("#ticket_generate").length&&$("#ticket_currency").empty()}),$(document).on("click",".paidticketdelete",function(e){var t=$(this).attr("id");ticketdelid=t.split("_"),ticketdelcount=ticketdelid[1],$(document).find("#paidticket_setting"+ticketdelcount).remove(),$(document).find("#paid_ticket"+ticketdelcount).remove(),0==$(document).find(".paidticketwrap").length&&0==$(document).find(".donationticketwrap").length&&$("#ticket_currency").empty()}),$(document).on("click",".donationticketdelete",function(e){var t=$(this).attr("id");ticketdelid=t.split("_"),ticketdelcount=ticketdelid[1],$(document).find("#donationticket_setting"+ticketdelcount).remove(),$(document).find("#donation_ticket"+ticketdelcount).remove(),0==$(document).find(".paidticketwrap").length&&0==$(document).find(".donationticketwrap").length&&$("#ticket_currency").empty()}),!function(e,t){"use strict";function i(){function i(t){var i=t||e.event,n=i.keyCode||i.which;if(-1!==[9,13,32,27].indexOf(n)){for(var a=i.target||i.srcElement,o=-1,s=0;s<_.length;s++)if(a===_[s]){o=s;break}9===n?(a=-1===o?b:i.shiftKey?0===o?_[_.length-1]:_[o-1]:o===_.length-1?_[0]:_[o+1],B(i),r(a)):13===n||32===n?-1===o&&R(b,i):27===n&&d.allowEscapeKey===!0&&R(x,i)}}if(void 0===arguments[0])return e.console.error("sweetAlert expects at least 1 attribute!"),!1;var d=o({},$);switch(typeof arguments[0]){case"string":d.title=arguments[0],d.text=arguments[1]||"",d.type=arguments[2]||"";break;case"object":d.title=arguments[0].title||$.title,d.text=arguments[0].text||$.text,d.html=arguments[0].html||$.html,d.type=arguments[0].type||$.type,d.animation=void 0!==arguments[0].animation?arguments[0].animation:$.animation,d.customClass=arguments[0].customClass||d.customClass,d.allowOutsideClick=void 0!==arguments[0].allowOutsideClick?arguments[0].allowOutsideClick:$.allowOutsideClick,d.allowEscapeKey=void 0!==arguments[0].allowEscapeKey?arguments[0].allowEscapeKey:$.allowEscapeKey,d.showConfirmButton=void 0!==arguments[0].showConfirmButton?arguments[0].showConfirmButton:$.showConfirmButton,d.showCancelButton=void 0!==arguments[0].showCancelButton?arguments[0].showCancelButton:$.showCancelButton,d.closeOnConfirm=void 0!==arguments[0].closeOnConfirm?arguments[0].closeOnConfirm:$.closeOnConfirm,d.closeOnCancel=void 0!==arguments[0].closeOnCancel?arguments[0].closeOnCancel:$.closeOnCancel,d.timer=parseInt(arguments[0].timer)||$.timer,d.width=parseInt(arguments[0].width)||$.width,d.padding=parseInt(arguments[0].padding)||$.padding,d.background=void 0!==arguments[0].background?arguments[0].background:$.background,d.confirmButtonText=arguments[0].confirmButtonText||$.confirmButtonText,d.confirmButtonColor=arguments[0].confirmButtonColor||$.confirmButtonColor,d.confirmButtonClass=arguments[0].confirmButtonClass||d.confirmButtonClass,d.cancelButtonText=arguments[0].cancelButtonText||$.cancelButtonText,d.cancelButtonColor=arguments[0].cancelButtonColor||$.cancelButtonColor,d.cancelButtonClass=arguments[0].cancelButtonClass||d.cancelButtonClass,d.imageUrl=arguments[0].imageUrl||$.imageUrl,d.imageSize=arguments[0].imageSize||$.imageSize,d.callback=arguments[1]||null,e.sweetAlert.callback=e.swal.callback=function(e){"function"==typeof d.callback&&d.callback(e)};break;default:return e.console.error('Unexpected type of argument! Expected "string" or "object", got '+typeof arguments[0]),!1}n(d),c(),s();var f=w();d.timer&&(f.timeout=setTimeout(function(){l(),"function"==typeof d.callback&&d.callback()},d.timer));var h,v=function(t){var i=t||e.event,n=i.target||i.srcElement,o=y(n,"confirm"),r=y(n,"cancel"),s=y(f,"visible");switch(i.type){case"mouseover":case"mouseup":case"focus":o?n.style.backgroundColor=a(d.confirmButtonColor,-.1):r&&(n.style.backgroundColor=a(d.cancelButtonColor,-.1));break;case"mouseout":case"blur":o?n.style.backgroundColor=d.confirmButtonColor:r&&(n.style.backgroundColor=d.cancelButtonColor);break;case"mousedown":o?n.style.backgroundColor=a(d.confirmButtonColor,-.2):r&&(n.style.backgroundColor=a(d.cancelButtonColor,-.2));break;case"click":if(o&&d.callback&&s)d.callback(!0),d.closeOnConfirm&&l();else if(d.callback&&s){var c=String(d.callback).replace(/\s/g,""),u="function("===c.substring(0,9)&&")"!==c.substring(9,10);u&&d.callback(!1),d.closeOnCancel&&l()}else l()}},g=f.querySelectorAll("button");for(h=0;h<g.length;h++)g[h].onclick=v,g[h].onmouseover=v,g[h].onmouseout=v,g[h].onmousedown=v;u=t.onclick,t.onclick=function(t){var i=t||e.event,n=i.target||i.srcElement;n===k()&&d.allowOutsideClick&&l()};var b=f.querySelector("button.confirm"),x=f.querySelector("button.cancel"),_=f.querySelectorAll("button, input:not([type=hidden]), textarea");for(h=0;h<_.length;h++)_[h].addEventListener("focus",v,!0),_[h].addEventListener("blur",v,!0);p=e.onkeydown,e.onkeydown=i,b.style.borderLeftColor=d.confirmButtonColor,b.style.borderRightColor=d.confirmButtonColor,e.swal.toggleLoading=function(){b.disabled=!b.disabled,x.disabled=!x.disabled},e.swal.enableButtons=function(){b.disabled=!1,x.disabled=!1},e.swal.disableButtons=function(){b.disabled=!0,x.disabled=!0},swal.enableButtons(),e.onfocus=function(){e.setTimeout(function(){void 0!==m&&(m.focus(),m=void 0)},0)}}function n(i){var n=w();n.style.width=i.width+"px",n.style.padding=i.padding+"px",n.style.marginLeft=-i.width/2+"px",n.style.background=i.background;var a=t.getElementsByTagName("head")[0],o=t.createElement("style");o.type="text/css",o.id=v,o.innerHTML="@media screen and (max-width: "+i.width+"px) {.sweet-alert {max-width: 100%;left: 0 !important;margin-left: 0 !important;}}",a.appendChild(o);var r=n.querySelector("h2"),s=n.querySelector("p"),l=n.querySelector("button.cancel"),c=n.querySelector("button.confirm"),d=n.querySelector("hr");if(r.innerHTML=_(i.title).split("\n").join("<br>"),s.innerHTML=_(i.text.split("\n").join("<br>"))||i.html,s.innerHTML&&T(s),i.customClass&&b(n,i.customClass),E(n.querySelectorAll(".icon")),i.type){for(var u=!1,p=0;p<g.length;p++)if(i.type===g[p]){u=!0;break}if(!u)return e.console.error("Unknown alert type: "+i.type),!1;var m=n.querySelector(".icon."+i.type);switch(T(m),i.type){case"success":b(m,"animate"),b(m.querySelector(".tip"),"animate-success-tip"),b(m.querySelector(".long"),"animate-success-long");break;case"error":b(m,"animate-error-icon"),b(m.querySelector(".x-mark"),"animate-x-mark");break;case"warning":b(m,"pulse-warning"),b(m.querySelector(".body"),"pulse-warning-ins"),b(m.querySelector(".dot"),"pulse-warning-ins")}}if(i.imageUrl){var f=n.querySelector(".icon.custom");if(f.style.backgroundImage="url("+i.imageUrl+")",T(f),i.imageSize){var h=i.imageSize.match(/(\d+)x(\d+)/);h?f.setAttribute("style",f.getAttribute("style")+"width:"+h[1]+"px; height:"+h[2]+"px"):e.console.error("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+i.imageSize)}}i.showCancelButton?l.style.display="inline-block":E(l),i.showConfirmButton?c.style.display="inline-block":E(c),i.showConfirmButton||i.showCancelButton||E(d),c.innerHTML=_(i.confirmButtonText),l.innerHTML=_(i.cancelButtonText),c.style.backgroundColor=i.confirmButtonColor,l.style.backgroundColor=i.cancelButtonColor,b(c,i.confirmButtonClass),b(l,i.cancelButtonClass),i.animation===!0?x(n,"no-animation"):b(n,"no-animation")}function a(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;for(var i="#",n=0;3>n;n++){var a=parseInt(e.substr(2*n,2),16);a=Math.round(Math.min(Math.max(0,a+a*t),255)).toString(16),i+=("00"+a).substr(a.length)}return i}function o(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function r(e){e.focus()}function s(){var e=w();L(k(),10),T(e),b(e,"show-sweet-alert"),x(e,"hide-sweet-alert"),d=t.activeElement,setTimeout(function(){b(e,"visible")},500)}function l(){var i=w();I(k(),5),I(i,5),x(i,"showSweetAlert"),b(i,"hideSweetAlert"),x(i,"visible");var n=i.querySelector(".icon.success");x(n,"animate"),x(n.querySelector(".tip"),"animate-success-tip"),x(n.querySelector(".long"),"animate-success-long");var a=i.querySelector(".icon.error");x(a,"animate-error-icon"),x(a.querySelector(".x-mark"),"animate-x-mark");var o=i.querySelector(".icon.warning");x(o,"pulse-warning"),x(o.querySelector(".body"),"pulse-warning-ins"),x(o.querySelector(".dot"),"pulse-warning-ins"),e.onkeydown=p,t.onclick=u,d&&d.focus(),m=void 0,clearTimeout(i.timeout);var r=t.getElementsByTagName("head")[0],s=t.getElementById(v);r.removeChild(s)}function c(){var e=w();e.style.marginTop=q(w())}var d,u,p,m,f=".sweet-alert",h=".sweet-overlay",v="sweet-alert-mediaquery",g=["error","warning","info","success"],$={title:"",text:"",html:"",type:null,animation:!0,allowOutsideClick:!0,allowEscapeKey:!0,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#3085d6",confirmButtonClass:null,cancelButtonText:"Cancel",cancelButtonColor:"#aaa",cancelButtonClass:null,imageUrl:null,imageSize:null,timer:null,width:500,padding:20,background:"#fff"},w=function(){return t.querySelector(f)},k=function(){return t.querySelector(h)},y=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},b=function(e,t){t&&!y(e,t)&&(e.className+=" "+t)},x=function(e,t){var i=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(y(e,t)){for(;i.indexOf(" "+t+" ")>=0;)i=i.replace(" "+t+" "," ");e.className=i.replace(/^\s+|\s+$/g,"")}},_=function(e){var i=t.createElement("div");return i.appendChild(t.createTextNode(e)),i.innerHTML},C=function(e){e.style.opacity="",e.style.display="block"},T=function(e){if(e&&!e.length)return C(e);for(var t=0;t<e.length;++t)C(e[t])},S=function(e){e.style.opacity="",e.style.display="none"},E=function(e){if(e&&!e.length)return S(e);for(var t=0;t<e.length;++t)S(e[t])},q=function(e){e.style.left="-9999px",e.style.display="block";var t,i=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt(i/2+t)+"px"},L=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var i=+new Date,n=function(){e.style.opacity=+e.style.opacity+(new Date-i)/100,i=+new Date,+e.style.opacity<1&&setTimeout(n,t)};n()}e.style.display="block"},I=function(e,t){t=t||16,e.style.opacity=1;var i=+new Date,n=function(){e.style.opacity=+e.style.opacity-(new Date-i)/100,i=+new Date,+e.style.opacity>0?setTimeout(n,t):e.style.display="none"};n()},R=function(i){if("function"==typeof MouseEvent){var n=new MouseEvent("click",{view:e,bubbles:!1,cancelable:!0});i.dispatchEvent(n)}else if(t.createEvent){var a=t.createEvent("MouseEvents");a.initEvent("click",!1,!1),i.dispatchEvent(a)}else t.createEventObject?i.fireEvent("onclick"):"function"==typeof i.onclick&&i.onclick()},B=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):e.event&&e.event.hasOwnProperty("cancelBubble")&&(e.event.cancelBubble=!0)};e.sweetAlert=e.swal=function(){var e=arguments;if(null!==w())i.apply(this,e);else var t=setInterval(function(){null!==w()&&(clearInterval(t),i.apply(this,e))},100)},e.sweetAlert.closeModal=e.swal.closeModal=function(){l()},e.swal.init=function(){var e='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert" tabIndex="-1"><div class="icon error"><span class="x-mark"><span class="line left"></span><span class="line right"></span></span></div><div class="icon warning"> <span class="body"></span> <span class="dot"></span> </div> <div class="icon info"></div> <div class="icon success"> <span class="line tip"></span> <span class="line long"></span> <div class="placeholder"></div> <div class="fix"></div> </div> <div class="icon custom"></div> <h2>Title</h2><p>Text</p><hr><button class="confirm">OK</button><button class="cancel">Cancel</button></div>',i=t.createElement("div");i.innerHTML=e,t.body.appendChild(i)},e.swal.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");o($,e)},function(){"complete"===t.readyState||"interactive"===t.readyState&&t.body?swal.init():t.addEventListener?t.addEventListener("DOMContentLoaded",function e(){t.removeEventListener("DOMContentLoaded",e,!1),swal.init()},!1):t.attachEvent&&t.attachEvent("onreadystatechange",function i(){"complete"===t.readyState&&(t.detachEvent("onreadystatechange",i),swal.init())})}()}(window,document);var geocoder;